[build]
  command = "npm ci && npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "18"
  NPM_VERSION = "9"
  # All configuration values are now hardcoded in src/config/production.js
  # Environment variables kept as comments for reference:
  # NEXT_PUBLIC_FIREBASE_API_KEY = "AIzaSyDlGIXeOtusP7iP7m6qgKmBH1xo8ulVJFI"
  # NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN = "teamblitz-45f98.firebaseapp.com"
  # NEXT_PUBLIC_FIREBASE_PROJECT_ID = "teamblitz-45f98"
  # NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET = "teamblitz-45f98.firebasestorage.app"
  # NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID = "6089062028"
  # NEXT_PUBLIC_FIREBASE_APP_ID = "1:6089062028:web:e37f0984ab0de972d0eda9"
  # NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID = "G-0WJGVFZQNP"
  # FIREBASE_PROJECT_ID = "teamblitz-45f98"
  # FIREBASE_PRIVATE_KEY_ID = "69e0db3163f0b8a7442bd777b6454c6e6163cb4a"
  # FIREBASE_PRIVATE_KEY = "-----BEGIN PRIVATE KEY-----\n..."
  # FIREBASE_CLIENT_EMAIL = "firebase-adminsdk-fbsvc@teamblitz-45f98.iam.gserviceaccount.com"
  # FIREBASE_CLIENT_ID = "112831392827596203243"
  # JWT_SECRET = "TeamBlitz2025ProductionSecureJWTSecretKey64CharactersLongForMaximumSecurity"
  # JWT_EXPIRES_IN = "7d"
  # ADMIN_SECRET = "TeamBlitzAdminSecret2025ProductionReady"
  # NEXT_PUBLIC_BASE_URL = "https://teamblitz.netlify.app"
  # GMAIL_USER = ""
  # GMAIL_APP_PASSWORD = ""

# Next.js specific configuration
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Headers for security
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"